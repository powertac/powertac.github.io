<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Sun Feb 17 20:56:25 UTC 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Tariff (Power TAC household customer 1.6.0-SNAPSHOT API)</title>
<meta name="date" content="2019-02-17">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Tariff (Power TAC household customer 1.6.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Tariff.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/powertac/common/RegulationRate.ResponseTime.html" title="enum in org.powertac.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/powertac/common/Tariff.State.html" title="enum in org.powertac.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/powertac/common/Tariff.html" target="_top">Frames</a></li>
<li><a href="Tariff.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.powertac.common</div>
<h2 title="Class Tariff" class="title">Class Tariff</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.powertac.common.Tariff</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="../../../org/powertac/common/state/Domain.html" title="annotation in org.powertac.common.state">@Domain</a>
public class <span class="typeNameLabel">Tariff</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Entity wrapper for TariffSpecification that supports Tariff evaluation 
 and billing. Instances of this class are not intended to be serialized.
 Tariffs are composed of Rates, which may be applicable for limited daily
 and/or weekly times, and within particular usage tiers. The Tariff
 transforms the list of Rates into an array, indexed first by tier and
 second by hour, making it easy to find the correct Rate that applies for
 a particular accounting event. This will also make it easy to estimate the
 cost of a multi-Rate Tariff given an expected load/production profile.
 <p>
 This is not a serializable type; The server and brokers are responsible
 for creating and maintaining their own Tariff entities if they have an
 interest in the transformation of TariffSpecification represented by a
 Tariff instance.</p>
 <p>
 <strong>NOTE:</strong> When creating one of these for the first time, you must
 call the init() method to initialize the publication date. It does not work
 to call it inside the constructor for some reason.</p></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>John Collins</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.State.html" title="enum in org.powertac.common">Tariff.State</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#Tariff-org.powertac.common.TariffSpecification-">Tariff</a></span>(<a href="../../../org/powertac/common/TariffSpecification.html" title="class in org.powertac.common">TariffSpecification</a>&nbsp;spec)</code>
<div class="block">Creates a new Tariff from the given TariffSpecification.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#addHourlyCharge-org.powertac.common.HourlyCharge-long-">addHourlyCharge</a></span>(<a href="../../../org/powertac/common/HourlyCharge.html" title="class in org.powertac.common">HourlyCharge</a>&nbsp;newCharge,
               long&nbsp;rateId)</code>
<div class="block">Adds a new HourlyCharge to its Rate.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../org/powertac/common/Broker.html" title="class in org.powertac.common">Broker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getBroker--">getBroker</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getEarlyWithdrawPayment--">getEarlyWithdrawPayment</a></span>()</code>
<div class="block">Payment from customer to broker for canceling subscription before
 minDuration has elapsed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>org.joda.time.Instant</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getExpiration--">getExpiration</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getId--">getId</a></span>()</code>
<div class="block">make id a synonym for specId</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../org/powertac/common/Tariff.html" title="class in org.powertac.common">Tariff</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getIsSupersededBy--">getIsSupersededBy</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getMaxUpRegulation-double-double-">getMaxUpRegulation</a></span>(double&nbsp;kwh,
                  double&nbsp;cumulativeUsage)</code>
<div class="block">Returns the maximum interruptible quantity in kwh for this tariff in 
 the current timeslot, for the specified proposed and cumulative usage.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getMeanConsumptionPrice--">getMeanConsumptionPrice</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getMinDuration--">getMinDuration</a></span>()</code>
<div class="block">Delegation for TariffSpecification.minDuration</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>org.joda.time.Instant</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getOfferDate--">getOfferDate</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getPeriodicPayment--">getPeriodicPayment</a></span>()</code>
<div class="block">Flat payment per period for two-part tariffs, typically negative.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../org/powertac/common/enumerations/PowerType.html" title="class in org.powertac.common.enumerations">PowerType</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getPowerType--">getPowerType</a></span>()</code>
<div class="block">Type of power covered by this tariff</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getRealizedPrice--">getRealizedPrice</a></span>()</code>
<div class="block">Returns the actual realized price, or 0.0 if information unavailable.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getRegulationCharge-double-double-boolean-">getRegulationCharge</a></span>(double&nbsp;kwh,
                   double&nbsp;cumulativeUsage,
                   boolean&nbsp;recordUsage)</code>
<div class="block">Returns the usage charge for regulation usage/or production.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getSignupPayment--">getSignupPayment</a></span>()</code>
<div class="block">One-time payment for subscribing to tariff, negative for payment
 from customer, positive for payment to customer.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getSpecId--">getSpecId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../org/powertac/common/Tariff.State.html" title="enum in org.powertac.common">Tariff.State</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getState--">getState</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../org/powertac/common/TariffSpecification.html" title="class in org.powertac.common">TariffSpecification</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getTariffSpec--">getTariffSpec</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="../../../org/powertac/common/TariffSpecification.html" title="class in org.powertac.common">TariffSpecification</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getTariffSpecification--">getTariffSpecification</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getTotalCost--">getTotalCost</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getTotalUsage--">getTotalUsage</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getUsageCharge-double-double-boolean-">getUsageCharge</a></span>(double&nbsp;kwh,
              double&nbsp;cumulativeUsage,
              boolean&nbsp;recordUsage)</code>
<div class="block">Returns the usage charge for a single customer in the current timeslot.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getUsageCharge-org.joda.time.Instant-double-double-">getUsageCharge</a></span>(org.joda.time.Instant&nbsp;when,
              double&nbsp;kwh,
              double&nbsp;cumulativeUsage)</code>
<div class="block">Returns the usage charge for a single customer using an amount of 
 energy at some time in the past or future.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#getUsageCharge-org.joda.time.Instant-double-double-org.powertac.common.TariffEvaluationHelper-">getUsageCharge</a></span>(org.joda.time.Instant&nbsp;when,
              double&nbsp;kwh,
              double&nbsp;cumulativeUsage,
              <a href="../../../org/powertac/common/TariffEvaluationHelper.html" title="class in org.powertac.common">TariffEvaluationHelper</a>&nbsp;helper)</code>
<div class="block">Returns a risk-adjusted usage charge, with prices for variable rates
 adjusted by the given TariffEvaluationHelper.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#hasRegulationRate--">hasRegulationRate</a></span>()</code>
<div class="block">Wrapper for TariffSpecification.hasRegulationRate()</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#init--">init</a></span>()</code>
<div class="block">Initializes tariff by building the rate map.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#isActive--">isActive</a></span>()</code>
<div class="block">True just in case this tariff is OFFERED or ACTIVE</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#isAnalyzed--">isAnalyzed</a></span>()</code>
<div class="block">Returns the analyzed flag.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#isCovered--">isCovered</a></span>()</code>
<div class="block">True just in case the set of Rates cover all the possible hour
 and tier slots.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#isExpired--">isExpired</a></span>()</code>
<div class="block">True just in case the current time is past the expiration date
 of this Tariff.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#isInterruptible--">isInterruptible</a></span>()</code>
<div class="block">True just in case this tariff could result in curtailment</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#isRevoked--">isRevoked</a></span>()</code>
<div class="block">True just in case this tariff has been revoked.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#isSubscribable--">isSubscribable</a></span>()</code>
<div class="block">True just in case this tariff can accept new subscriptions</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#isTiered--">isTiered</a></span>()</code>
<div class="block">True just in case this tariff has at least one tiered rate</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#isTimeOfUse--">isTimeOfUse</a></span>()</code>
<div class="block">True just in case this tariff has at least one Time-of-Use rate</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#isVariableRate--">isVariableRate</a></span>()</code>
<div class="block">True just in case this tariff has at least one dynamic rate</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#isWeekly--">isWeekly</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#overpricedDownRegulationRatio--">overpricedDownRegulationRatio</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#overpricedUpRegulationRatio--">overpricedUpRegulationRatio</a></span>()</code>
<div class="block">Applies price constraint to down-regulation quantity.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#setExpiration-org.joda.time.Instant-">setExpiration</a></span>(org.joda.time.Instant&nbsp;newDate)</code>&nbsp;</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/Tariff.html#setState-org.powertac.common.Tariff.State-">setState</a></span>(<a href="../../../org/powertac/common/Tariff.State.html" title="enum in org.powertac.common">Tariff.State</a>&nbsp;newState)</code>
<div class="block">Updates the state of this tariff.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Tariff-org.powertac.common.TariffSpecification-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Tariff</h4>
<pre>public&nbsp;Tariff(<a href="../../../org/powertac/common/TariffSpecification.html" title="class in org.powertac.common">TariffSpecification</a>&nbsp;spec)</pre>
<div class="block">Creates a new Tariff from the given TariffSpecification. Note that 
 the tariff will not be usable until its init() method has been called.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;boolean&nbsp;init()</pre>
<div class="block">Initializes tariff by building the rate map. Must be called before
 usage charges can be computed. This is not in the constructor because
 of testability problems. Return value is true just in case the
 initialization succeeds.</div>
</li>
</ul>
<a name="getTariffSpecification--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTariffSpecification</h4>
<pre>public&nbsp;<a href="../../../org/powertac/common/TariffSpecification.html" title="class in org.powertac.common">TariffSpecification</a>&nbsp;getTariffSpecification()</pre>
</li>
</ul>
<a name="getSpecId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSpecId</h4>
<pre>public&nbsp;long&nbsp;getSpecId()</pre>
</li>
</ul>
<a name="getId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getId</h4>
<pre>public&nbsp;long&nbsp;getId()</pre>
<div class="block">make id a synonym for specId</div>
</li>
</ul>
<a name="addHourlyCharge-org.powertac.common.HourlyCharge-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addHourlyCharge</h4>
<pre><a href="../../../org/powertac/common/state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;boolean&nbsp;addHourlyCharge(<a href="../../../org/powertac/common/HourlyCharge.html" title="class in org.powertac.common">HourlyCharge</a>&nbsp;newCharge,
                                            long&nbsp;rateId)</pre>
<div class="block">Adds a new HourlyCharge to its Rate. Returns true just
 in case the operation was successful.</div>
</li>
</ul>
<a name="getRealizedPrice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRealizedPrice</h4>
<pre>public&nbsp;double&nbsp;getRealizedPrice()</pre>
<div class="block">Returns the actual realized price, or 0.0 if information unavailable.
 This value is negative for consumption tariffs, because it indicates
 that the customer has paid the broker.</div>
</li>
</ul>
<a name="getMinDuration--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinDuration</h4>
<pre>public&nbsp;long&nbsp;getMinDuration()</pre>
<div class="block">Delegation for TariffSpecification.minDuration</div>
</li>
</ul>
<a name="getPowerType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPowerType</h4>
<pre>public&nbsp;<a href="../../../org/powertac/common/enumerations/PowerType.html" title="class in org.powertac.common.enumerations">PowerType</a>&nbsp;getPowerType()</pre>
<div class="block">Type of power covered by this tariff</div>
</li>
</ul>
<a name="getSignupPayment--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSignupPayment</h4>
<pre>public&nbsp;double&nbsp;getSignupPayment()</pre>
<div class="block">One-time payment for subscribing to tariff, negative for payment
 from customer, positive for payment to customer.</div>
</li>
</ul>
<a name="getEarlyWithdrawPayment--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEarlyWithdrawPayment</h4>
<pre>public&nbsp;double&nbsp;getEarlyWithdrawPayment()</pre>
<div class="block">Payment from customer to broker for canceling subscription before
 minDuration has elapsed. This is typically a negative value.</div>
</li>
</ul>
<a name="getPeriodicPayment--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeriodicPayment</h4>
<pre>public&nbsp;double&nbsp;getPeriodicPayment()</pre>
<div class="block">Flat payment per period for two-part tariffs, typically negative.</div>
</li>
</ul>
<a name="getMaxUpRegulation-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxUpRegulation</h4>
<pre>public&nbsp;double&nbsp;getMaxUpRegulation(double&nbsp;kwh,
                                 double&nbsp;cumulativeUsage)</pre>
<div class="block">Returns the maximum interruptible quantity in kwh for this tariff in 
 the current timeslot, for the specified proposed and cumulative usage.</div>
</li>
</ul>
<a name="getUsageCharge-double-double-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsageCharge</h4>
<pre>public&nbsp;double&nbsp;getUsageCharge(double&nbsp;kwh,
                             double&nbsp;cumulativeUsage,
                             boolean&nbsp;recordUsage)</pre>
<div class="block">Returns the usage charge for a single customer in the current timeslot. 
 If the kwh parameter is given as +1.0, you get the per-kwh value for 
 energy consumption, which is typically a negative value. If you supply
 a non-zero value for cumulativeUsage, then the charge will be affected by the
 rate tier structure in accordance with the new cumulative usage.
 <p>
 If the recordUsage parameter is true, then the usage and price will be
 recorded to update the realizedPrice.</p></div>
</li>
</ul>
<a name="getRegulationCharge-double-double-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegulationCharge</h4>
<pre>public&nbsp;double&nbsp;getRegulationCharge(double&nbsp;kwh,
                                  double&nbsp;cumulativeUsage,
                                  boolean&nbsp;recordUsage)</pre>
<div class="block">Returns the usage charge for regulation usage/or production. If this
 tariff has a RegulationRate, then that will determine the charge;
 otherwise the call will be delegated to getUsageCharge(). 
 Regulation usage does not contribute to cumulative usage, since it's
 assumed to balance out over time.
 Note that
 negative values for kwh represent up-regulation, while positive values
 represent down-regulation.
 Also note that regulation amounts are truncated if the payments exceed
 the ratios (to the energy prices in the tariff) specified by the max
 ratios in the tariff market.</div>
</li>
</ul>
<a name="overpricedUpRegulationRatio--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overpricedUpRegulationRatio</h4>
<pre>public&nbsp;double&nbsp;overpricedUpRegulationRatio()</pre>
<div class="block">Applies price constraint to down-regulation quantity.</div>
</li>
</ul>
<a name="overpricedDownRegulationRatio--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overpricedDownRegulationRatio</h4>
<pre>public&nbsp;double&nbsp;overpricedDownRegulationRatio()</pre>
</li>
</ul>
<a name="getUsageCharge-org.joda.time.Instant-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsageCharge</h4>
<pre>public&nbsp;double&nbsp;getUsageCharge(org.joda.time.Instant&nbsp;when,
                             double&nbsp;kwh,
                             double&nbsp;cumulativeUsage)</pre>
<div class="block">Returns the usage charge for a single customer using an amount of 
 energy at some time in the past or future. The return value is typically
 opposite in sign to the kwh parameter.
 If the requested time is farther in the future 
 than maxHorizon, then the result will likely be a default value, which 
 may not be useful. The cumulativeUsage parameter sets the base for
 probing the rate tier structure. Do not use this method for billing,
 because it does not update the realized-price data.</div>
</li>
</ul>
<a name="getUsageCharge-org.joda.time.Instant-double-double-org.powertac.common.TariffEvaluationHelper-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsageCharge</h4>
<pre>public&nbsp;double&nbsp;getUsageCharge(org.joda.time.Instant&nbsp;when,
                             double&nbsp;kwh,
                             double&nbsp;cumulativeUsage,
                             <a href="../../../org/powertac/common/TariffEvaluationHelper.html" title="class in org.powertac.common">TariffEvaluationHelper</a>&nbsp;helper)</pre>
<div class="block">Returns a risk-adjusted usage charge, with prices for variable rates
 adjusted by the given TariffEvaluationHelper.</div>
</li>
</ul>
<a name="getExpiration--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpiration</h4>
<pre>public&nbsp;org.joda.time.Instant&nbsp;getExpiration()</pre>
</li>
</ul>
<a name="isExpired--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExpired</h4>
<pre>public&nbsp;boolean&nbsp;isExpired()</pre>
<div class="block">True just in case the current time is past the expiration date
 of this Tariff.</div>
</li>
</ul>
<a name="setExpiration-org.joda.time.Instant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExpiration</h4>
<pre><a href="../../../org/powertac/common/state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;void&nbsp;setExpiration(org.joda.time.Instant&nbsp;newDate)</pre>
</li>
</ul>
<a name="getOfferDate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOfferDate</h4>
<pre>public&nbsp;org.joda.time.Instant&nbsp;getOfferDate()</pre>
</li>
</ul>
<a name="isCovered--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCovered</h4>
<pre>public&nbsp;boolean&nbsp;isCovered()</pre>
<div class="block">True just in case the set of Rates cover all the possible hour
 and tier slots. If false, then there is some combination of hour
 and tier for which no Rate is specified.</div>
</li>
</ul>
<a name="getTariffSpec--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTariffSpec</h4>
<pre>public&nbsp;<a href="../../../org/powertac/common/TariffSpecification.html" title="class in org.powertac.common">TariffSpecification</a>&nbsp;getTariffSpec()</pre>
</li>
</ul>
<a name="getBroker--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBroker</h4>
<pre>public&nbsp;<a href="../../../org/powertac/common/Broker.html" title="class in org.powertac.common">Broker</a>&nbsp;getBroker()</pre>
</li>
</ul>
<a name="getState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre>public&nbsp;<a href="../../../org/powertac/common/Tariff.State.html" title="enum in org.powertac.common">Tariff.State</a>&nbsp;getState()</pre>
</li>
</ul>
<a name="setState-org.powertac.common.Tariff.State-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setState</h4>
<pre><a href="../../../org/powertac/common/state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;void&nbsp;setState(<a href="../../../org/powertac/common/Tariff.State.html" title="enum in org.powertac.common">Tariff.State</a>&nbsp;newState)</pre>
<div class="block">Updates the state of this tariff.</div>
</li>
</ul>
<a name="isActive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isActive</h4>
<pre>public&nbsp;boolean&nbsp;isActive()</pre>
<div class="block">True just in case this tariff is OFFERED or ACTIVE</div>
</li>
</ul>
<a name="getIsSupersededBy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIsSupersededBy</h4>
<pre>public&nbsp;<a href="../../../org/powertac/common/Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;getIsSupersededBy()</pre>
</li>
</ul>
<a name="getTotalCost--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalCost</h4>
<pre>public&nbsp;double&nbsp;getTotalCost()</pre>
</li>
</ul>
<a name="getTotalUsage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalUsage</h4>
<pre>public&nbsp;double&nbsp;getTotalUsage()</pre>
</li>
</ul>
<a name="getMeanConsumptionPrice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMeanConsumptionPrice</h4>
<pre>public&nbsp;double&nbsp;getMeanConsumptionPrice()</pre>
</li>
</ul>
<a name="isWeekly--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isWeekly</h4>
<pre>public&nbsp;boolean&nbsp;isWeekly()</pre>
</li>
</ul>
<a name="isRevoked--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRevoked</h4>
<pre>public&nbsp;boolean&nbsp;isRevoked()</pre>
<div class="block">True just in case this tariff has been revoked.</div>
</li>
</ul>
<a name="isSubscribable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSubscribable</h4>
<pre>public&nbsp;boolean&nbsp;isSubscribable()</pre>
<div class="block">True just in case this tariff can accept new subscriptions</div>
</li>
</ul>
<a name="isTimeOfUse--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTimeOfUse</h4>
<pre>public&nbsp;boolean&nbsp;isTimeOfUse()</pre>
<div class="block">True just in case this tariff has at least one Time-of-Use rate</div>
</li>
</ul>
<a name="isTiered--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTiered</h4>
<pre>public&nbsp;boolean&nbsp;isTiered()</pre>
<div class="block">True just in case this tariff has at least one tiered rate</div>
</li>
</ul>
<a name="isVariableRate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isVariableRate</h4>
<pre>public&nbsp;boolean&nbsp;isVariableRate()</pre>
<div class="block">True just in case this tariff has at least one dynamic rate</div>
</li>
</ul>
<a name="isInterruptible--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInterruptible</h4>
<pre>public&nbsp;boolean&nbsp;isInterruptible()</pre>
<div class="block">True just in case this tariff could result in curtailment</div>
</li>
</ul>
<a name="hasRegulationRate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasRegulationRate</h4>
<pre>public&nbsp;boolean&nbsp;hasRegulationRate()</pre>
<div class="block">Wrapper for TariffSpecification.hasRegulationRate()</div>
</li>
</ul>
<a name="isAnalyzed--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isAnalyzed</h4>
<pre>public&nbsp;boolean&nbsp;isAnalyzed()</pre>
<div class="block">Returns the analyzed flag.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Tariff.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/powertac/common/RegulationRate.ResponseTime.html" title="enum in org.powertac.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/powertac/common/Tariff.State.html" title="enum in org.powertac.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/powertac/common/Tariff.html" target="_top">Frames</a></li>
<li><a href="Tariff.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="http://www.powertac.org/">Power TAC</a>. All rights reserved.</small></p>
</body>
</html>

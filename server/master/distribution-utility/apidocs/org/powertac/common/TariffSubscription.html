<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Tue Nov 27 07:05:18 UTC 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TariffSubscription (Power TAC distribution utility 1.6.0-SNAPSHOT API)</title>
<meta name="date" content="2018-11-27">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TariffSubscription (Power TAC distribution utility 1.6.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TariffSubscription.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/powertac/common/TariffSpecification.html" title="class in org.powertac.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/powertac/common/TariffTransaction.html" title="class in org.powertac.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/powertac/common/TariffSubscription.html" target="_top">Frames</a></li>
<li><a href="TariffSubscription.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.powertac.common</div>
<h2 title="Class TariffSubscription" class="title">Class TariffSubscription</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.powertac.common.TariffSubscription</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="../../../org/powertac/common/state/Domain.html" title="annotation in org.powertac.common.state">@Domain</a>
public class <span class="typeNameLabel">TariffSubscription</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A TariffSubscription is an entity representing an association between a Customer
 and a Tariff. Instances of this class are not intended to be serialized.
 You get one by calling the subscribe() method on Tariff. If there is no
 current subscription for that Customer (which in most cases is actually
 a population model), then a new TariffSubscription is created and
 returned from the Tariff.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>John Collins, Carsten Block</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#TariffSubscription-org.powertac.common.CustomerInfo-long-">TariffSubscription</a></span>(<a href="../../../org/powertac/common/CustomerInfo.html" title="class in org.powertac.common">CustomerInfo</a>&nbsp;customer,
                  long&nbsp;tariffId)</code>
<div class="block">Alternate constructor for logtool analyzers in which Tariffs cannot
 be reconstructed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#TariffSubscription-org.powertac.common.CustomerInfo-org.powertac.common.Tariff-">TariffSubscription</a></span>(<a href="../../../org/powertac/common/CustomerInfo.html" title="class in org.powertac.common">CustomerInfo</a>&nbsp;customer,
                  <a href="../../../org/powertac/common/Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff)</code>
<div class="block">You need a CustomerInfo and a Tariff to create one of these.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#deferredUnsubscribe-int-">deferredUnsubscribe</a></span>(int&nbsp;customerCount)</code>
<div class="block">Handles the actual unsubscribe operation.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#ensureRegulationCapacity--">ensureRegulationCapacity</a></span>()</code>
<div class="block">Ensures that regulationAccumulator is non-null -
 needed for non-regulatable customer models</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#getCurtailment--">getCurtailment</a></span>()</code>
<div class="block">Returns the regulation in kwh, aggregated across the subscribed population,
 for the previous timeslot.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../org/powertac/common/CustomerInfo.html" title="class in org.powertac.common">CustomerInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#getCustomer--">getCustomer</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#getCustomersCommitted--">getCustomersCommitted</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#getExpiredCustomerCount--">getExpiredCustomerCount</a></span>()</code>
<div class="block">Returns the number of individual customers who may withdraw from this
 subscription without penalty.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#getId--">getId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#getRegulation--">getRegulation</a></span>()</code>
<div class="block">Returns the regulation quantity exercised per member
 in the previous timeslot.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../org/powertac/common/RegulationAccumulator.html" title="class in org.powertac.common">RegulationAccumulator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#getRemainingRegulationCapacity--">getRemainingRegulationCapacity</a></span>()</code>
<div class="block">Returns the maximum aggregate up-regulation possible after the
 customer model has run and possibly applied economic controls.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../org/powertac/common/Tariff.html" title="class in org.powertac.common">Tariff</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#getTariff--">getTariff</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#getTariffId--">getTariffId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#getTotalUsage--">getTotalUsage</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../org/powertac/common/Tariff.html" title="class in org.powertac.common">Tariff</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#handleRevokedTariff--">handleRevokedTariff</a></span>()</code>
<div class="block">Handles the subscription switch in case the underlying Tariff has been
 revoked.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#hasRegulationRate--">hasRegulationRate</a></span>()</code>
<div class="block">True just in case this subscription allows regulation.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#postBalancingControl-double-">postBalancingControl</a></span>(double&nbsp;kwh)</code>
<div class="block">Posts a BalancingControlEvent to the subscription and generate the correct
 TariffTransaction.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#postRatioControl-double-">postRatioControl</a></span>(double&nbsp;ratio)</code>
<div class="block">Posts the ratio for an EconomicControlEvent to the subscription for the
 current timeslot.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#setCustomersCommitted-int-">setCustomersCommitted</a></span>(int&nbsp;value)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#setRegulation-double-">setRegulation</a></span>(double&nbsp;newValue)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#setRegulationCapacity-org.powertac.common.RegulationCapacity-">setRegulationCapacity</a></span>(<a href="../../../org/powertac/common/RegulationCapacity.html" title="class in org.powertac.common">RegulationCapacity</a>&nbsp;capacity)</code>
<div class="block">Communicates the ability of the customer model to handle regulation
 requests.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#subscribe-int-">subscribe</a></span>(int&nbsp;customerCount)</code>
<div class="block">Subscribes some number of discrete customers.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#unsubscribe-int-">unsubscribe</a></span>(int&nbsp;customerCount)</code>
<div class="block">Removes customerCount customers (at most) from this subscription,
 posts early-withdrawal fees if appropriate.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TariffSubscription.html#usePower-double-">usePower</a></span>(double&nbsp;kwh)</code>
<div class="block">Generates and posts a TariffTransaction instance for the current timeslot that
 represents the amount of production (negative amount) or consumption
 (positive amount), along with the credit/debit that results.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TariffSubscription-org.powertac.common.CustomerInfo-org.powertac.common.Tariff-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TariffSubscription</h4>
<pre>public&nbsp;TariffSubscription(<a href="../../../org/powertac/common/CustomerInfo.html" title="class in org.powertac.common">CustomerInfo</a>&nbsp;customer,
                          <a href="../../../org/powertac/common/Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff)</pre>
<div class="block">You need a CustomerInfo and a Tariff to create one of these.</div>
</li>
</ul>
<a name="TariffSubscription-org.powertac.common.CustomerInfo-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TariffSubscription</h4>
<pre>public&nbsp;TariffSubscription(<a href="../../../org/powertac/common/CustomerInfo.html" title="class in org.powertac.common">CustomerInfo</a>&nbsp;customer,
                          long&nbsp;tariffId)</pre>
<div class="block">Alternate constructor for logtool analyzers in which Tariffs cannot
 be reconstructed.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getId</h4>
<pre>public&nbsp;long&nbsp;getId()</pre>
</li>
</ul>
<a name="getCustomer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCustomer</h4>
<pre>public&nbsp;<a href="../../../org/powertac/common/CustomerInfo.html" title="class in org.powertac.common">CustomerInfo</a>&nbsp;getCustomer()</pre>
</li>
</ul>
<a name="getTariff--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTariff</h4>
<pre>public&nbsp;<a href="../../../org/powertac/common/Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;getTariff()</pre>
</li>
</ul>
<a name="getTariffId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTariffId</h4>
<pre>public&nbsp;long&nbsp;getTariffId()</pre>
</li>
</ul>
<a name="getCustomersCommitted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCustomersCommitted</h4>
<pre>public&nbsp;int&nbsp;getCustomersCommitted()</pre>
</li>
</ul>
<a name="setCustomersCommitted-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCustomersCommitted</h4>
<pre><a href="../../../org/powertac/common/state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;void&nbsp;setCustomersCommitted(int&nbsp;value)</pre>
</li>
</ul>
<a name="getTotalUsage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalUsage</h4>
<pre>public&nbsp;double&nbsp;getTotalUsage()</pre>
</li>
</ul>
<a name="subscribe-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre><a href="../../../org/powertac/common/state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;void&nbsp;subscribe(int&nbsp;customerCount)</pre>
<div class="block">Subscribes some number of discrete customers. This is typically some portion of the population in a
 population model. We assume this is called from Tariff, as a result of calling tariff.subscribe().
 Also, we record the expiration date of the tariff contract, just in case the tariff has a
 minDuration. For the purpose of computing expiration, all contracts are assumed to begin at
 00:00 on the day of the subscription.</div>
</li>
</ul>
<a name="unsubscribe-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unsubscribe</h4>
<pre>public&nbsp;void&nbsp;unsubscribe(int&nbsp;customerCount)</pre>
<div class="block">Removes customerCount customers (at most) from this subscription,
 posts early-withdrawal fees if appropriate.</div>
</li>
</ul>
<a name="deferredUnsubscribe-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deferredUnsubscribe</h4>
<pre><a href="../../../org/powertac/common/state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;void&nbsp;deferredUnsubscribe(int&nbsp;customerCount)</pre>
<div class="block">Handles the actual unsubscribe operation. Intended to be called by
 the TariffMarket (phase 4) to avoid subscription changes between customer
 consumption/production and balancing.</div>
</li>
</ul>
<a name="handleRevokedTariff--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleRevokedTariff</h4>
<pre>public&nbsp;<a href="../../../org/powertac/common/Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;handleRevokedTariff()</pre>
<div class="block">Handles the subscription switch in case the underlying Tariff has been
 revoked. The actual processing of tariff revocations, including switching
 subscriptions to superseding tariffs, is deferred to be handled by the
 tariff market.</div>
</li>
</ul>
<a name="usePower-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>usePower</h4>
<pre>public&nbsp;void&nbsp;usePower(double&nbsp;kwh)</pre>
<div class="block">Generates and posts a TariffTransaction instance for the current timeslot that
 represents the amount of production (negative amount) or consumption
 (positive amount), along with the credit/debit that results. Also generates
 a separate TariffTransaction for the fixed periodic payment if it's non-zero.
 Note that the power usage value and the numbers in the
 TariffTransaction are aggregated across the subscribed population,
 not per-member values.</div>
</li>
</ul>
<a name="getCurtailment--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurtailment</h4>
<pre>public&nbsp;double&nbsp;getCurtailment()</pre>
<div class="block">Returns the regulation in kwh, aggregated across the subscribed population,
 for the previous timeslot. 
 Intended to be called by Customer models only. Value is non-negative for
 consumption power types, non-positive for production types. For storage
 types it may be positive or negative.
 
 NOTE: this method is not idempotent; if you call it twice
 in the same timeslot, the second time returns zero.</div>
</li>
</ul>
<a name="getRegulation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegulation</h4>
<pre>public&nbsp;double&nbsp;getRegulation()</pre>
<div class="block">Returns the regulation quantity exercised per member
 in the previous timeslot. For non-storage devices,
 only up-regulation through curtailment is supported, 
 and the result will be a non-negative value.
 For storage devices, it may be positive (up-regulation) or negative
 (down-regulation). 
 Intended to be called by customer models.
 
 NOTE: This method is not idempotent,
 because the regulation quantity is reset to zero after it's accessed.</div>
</li>
</ul>
<a name="setRegulation-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRegulation</h4>
<pre>public&nbsp;void&nbsp;setRegulation(double&nbsp;newValue)</pre>
</li>
</ul>
<a name="setRegulationCapacity-org.powertac.common.RegulationCapacity-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRegulationCapacity</h4>
<pre>public&nbsp;void&nbsp;setRegulationCapacity(<a href="../../../org/powertac/common/RegulationCapacity.html" title="class in org.powertac.common">RegulationCapacity</a>&nbsp;capacity)</pre>
<div class="block">Communicates the ability of the customer model to handle regulation
 requests. Quantities are per-member.
 
 NOTE: This method must be called once/timeslot for any customer that
 offers regulation capacity, because otherwise the capacity will be
 carried over from the previous timeslot.</div>
</li>
</ul>
<a name="ensureRegulationCapacity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureRegulationCapacity</h4>
<pre>public&nbsp;void&nbsp;ensureRegulationCapacity()</pre>
<div class="block">Ensures that regulationAccumulator is non-null -
 needed for non-regulatable customer models</div>
</li>
</ul>
<a name="hasRegulationRate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasRegulationRate</h4>
<pre>public&nbsp;boolean&nbsp;hasRegulationRate()</pre>
<div class="block">True just in case this subscription allows regulation.</div>
</li>
</ul>
<a name="postRatioControl-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postRatioControl</h4>
<pre><a href="../../../org/powertac/common/state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;void&nbsp;postRatioControl(double&nbsp;ratio)</pre>
<div class="block">Posts the ratio for an EconomicControlEvent to the subscription for the
 current timeslot.</div>
</li>
</ul>
<a name="postBalancingControl-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postBalancingControl</h4>
<pre><a href="../../../org/powertac/common/state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;void&nbsp;postBalancingControl(double&nbsp;kwh)</pre>
<div class="block">Posts a BalancingControlEvent to the subscription and generate the correct
 TariffTransaction. This updates
 the regulation for the current timeslot by the amount of the control.
 A positive value for kwh represents up-regulation, or an
 increase in production - in other words, a net gain for the broker's
 energy account balance. The kwh value is a population value, not a
 per-member value.</div>
</li>
</ul>
<a name="getRemainingRegulationCapacity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemainingRegulationCapacity</h4>
<pre>public&nbsp;<a href="../../../org/powertac/common/RegulationAccumulator.html" title="class in org.powertac.common">RegulationAccumulator</a>&nbsp;getRemainingRegulationCapacity()</pre>
<div class="block">Returns the maximum aggregate up-regulation possible after the
 customer model has run and possibly applied economic controls.
 Since this is potentially 
 accessed through the balancing market after customers have updated their
 subscriptions, it's possible
 that the value will have to be changed due to a change in customer count.
 TODO: may need to be modified -- see issue #733.</div>
</li>
</ul>
<a name="getExpiredCustomerCount--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getExpiredCustomerCount</h4>
<pre>public&nbsp;int&nbsp;getExpiredCustomerCount()</pre>
<div class="block">Returns the number of individual customers who may withdraw from this
 subscription without penalty. Should return the total customer count
 for a non-expiring tariff.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TariffSubscription.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/powertac/common/TariffSpecification.html" title="class in org.powertac.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/powertac/common/TariffTransaction.html" title="class in org.powertac.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/powertac/common/TariffSubscription.html" target="_top">Frames</a></li>
<li><a href="TariffSubscription.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018 <a href="http://www.powertac.org/">Power TAC</a>. All rights reserved.</small></p>
</body>
</html>

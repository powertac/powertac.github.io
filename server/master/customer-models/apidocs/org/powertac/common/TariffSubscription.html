<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Wed Mar 18 22:27:18 UTC 2020 -->
<title>TariffSubscription (Power TAC customer models 1.7.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-03-18">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TariffSubscription (Power TAC customer models 1.7.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TariffSubscription.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.powertac.common</a></div>
<h2 title="Class TariffSubscription" class="title">Class TariffSubscription</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.powertac.common.TariffSubscription</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre><a href="state/Domain.html" title="annotation in org.powertac.common.state">@Domain</a>
public class <span class="typeNameLabel">TariffSubscription</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">A TariffSubscription is an entity representing an association between a Customer
 and a Tariff. Instances of this class are not intended to be serialized.
 You get one by calling the subscribe() method on Tariff. If there is no
 current subscription for that Customer (which in most cases is actually
 a population model), then a new TariffSubscription is created and
 returned from the Tariff.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>John Collins, Carsten Block</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.powertac.common.CustomerInfo,long)">TariffSubscription</a></span>&#8203;(<a href="CustomerInfo.html" title="class in org.powertac.common">CustomerInfo</a>&nbsp;customer,
                  long&nbsp;tariffId)</code></th>
<td class="colLast">
<div class="block">Alternate constructor for logtool analyzers in which Tariffs cannot
 be reconstructed.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.powertac.common.CustomerInfo,org.powertac.common.Tariff)">TariffSubscription</a></span>&#8203;(<a href="CustomerInfo.html" title="class in org.powertac.common">CustomerInfo</a>&nbsp;customer,
                  <a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff)</code></th>
<td class="colLast">
<div class="block">You need a CustomerInfo and a Tariff to create one of these.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deferredUnsubscribe(int)">deferredUnsubscribe</a></span>&#8203;(int&nbsp;customerCount)</code></th>
<td class="colLast">
<div class="block">Handles the actual unsubscribe operation.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ensureRegulationCapacity()">ensureRegulationCapacity</a></span>()</code></th>
<td class="colLast">
<div class="block">Ensures that regulationAccumulator is non-null -
 needed for non-regulatable customer models</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCurtailment()">getCurtailment</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the regulation in kwh, aggregated across the subscribed population,
 for the previous timeslot.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="CustomerInfo.html" title="class in org.powertac.common">CustomerInfo</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCustomer()">getCustomer</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCustomersCommitted()">getCustomersCommitted</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExpiredCustomerCount()">getExpiredCustomerCount</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the number of individual customers who may withdraw from this
 subscription without penalty.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getId()">getId</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRegulation()">getRegulation</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the regulation quantity exercised per member
 in the previous timeslot.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="RegulationAccumulator.html" title="class in org.powertac.common">RegulationAccumulator</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRemainingRegulationCapacity()">getRemainingRegulationCapacity</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the maximum aggregate up-regulation possible after the
 customer model has run and possibly applied economic controls.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="Tariff.html" title="class in org.powertac.common">Tariff</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTariff()">getTariff</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTariffId()">getTariffId</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTotalUsage()">getTotalUsage</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="Tariff.html" title="class in org.powertac.common">Tariff</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleRevokedTariff()">handleRevokedTariff</a></span>()</code></th>
<td class="colLast">
<div class="block">Handles the subscription switch in case the underlying Tariff has been
 revoked.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasRegulationRate()">hasRegulationRate</a></span>()</code></th>
<td class="colLast">
<div class="block">True just in case this subscription allows regulation.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#postBalancingControl(double)">postBalancingControl</a></span>&#8203;(double&nbsp;kwh)</code></th>
<td class="colLast">
<div class="block">Posts a BalancingControlEvent to the subscription and generates the correct
 TariffTransaction.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#postRatioControl(double)">postRatioControl</a></span>&#8203;(double&nbsp;ratio)</code></th>
<td class="colLast">
<div class="block">Posts the ratio for an EconomicControlEvent to the subscription for the
 current timeslot.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCustomersCommitted(int)">setCustomersCommitted</a></span>&#8203;(int&nbsp;value)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRegulation(double)">setRegulation</a></span>&#8203;(double&nbsp;newValue)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRegulationCapacity(org.powertac.common.RegulationCapacity)">setRegulationCapacity</a></span>&#8203;(<a href="RegulationCapacity.html" title="class in org.powertac.common">RegulationCapacity</a>&nbsp;capacity)</code></th>
<td class="colLast">
<div class="block">Communicates the ability of the customer model to handle regulation
 requests.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subscribe(int)">subscribe</a></span>&#8203;(int&nbsp;customerCount)</code></th>
<td class="colLast">
<div class="block">Subscribes some number of discrete customers.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unsubscribe(int)">unsubscribe</a></span>&#8203;(int&nbsp;customerCount)</code></th>
<td class="colLast">
<div class="block">Removes customerCount customers (at most) from this subscription,
 posts early-withdrawal fees if appropriate.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#usePower(double)">usePower</a></span>&#8203;(double&nbsp;kwh)</code></th>
<td class="colLast">
<div class="block">Generates and posts a TariffTransaction instance for the current timeslot that
 represents the amount of production (negative amount) or consumption
 (positive amount), along with the credit/debit that results.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.powertac.common.CustomerInfo,org.powertac.common.Tariff)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TariffSubscription</h4>
<pre>public&nbsp;TariffSubscription&#8203;(<a href="CustomerInfo.html" title="class in org.powertac.common">CustomerInfo</a>&nbsp;customer,
                          <a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff)</pre>
<div class="block">You need a CustomerInfo and a Tariff to create one of these.</div>
</li>
</ul>
<a id="&lt;init&gt;(org.powertac.common.CustomerInfo,long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TariffSubscription</h4>
<pre>public&nbsp;TariffSubscription&#8203;(<a href="CustomerInfo.html" title="class in org.powertac.common">CustomerInfo</a>&nbsp;customer,
                          long&nbsp;tariffId)</pre>
<div class="block">Alternate constructor for logtool analyzers in which Tariffs cannot
 be reconstructed.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getId</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getId()</pre>
</li>
</ul>
<a id="getCustomer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCustomer</h4>
<pre class="methodSignature">public&nbsp;<a href="CustomerInfo.html" title="class in org.powertac.common">CustomerInfo</a>&nbsp;getCustomer()</pre>
</li>
</ul>
<a id="getTariff()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTariff</h4>
<pre class="methodSignature">public&nbsp;<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;getTariff()</pre>
</li>
</ul>
<a id="getTariffId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTariffId</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getTariffId()</pre>
</li>
</ul>
<a id="getCustomersCommitted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCustomersCommitted</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getCustomersCommitted()</pre>
</li>
</ul>
<a id="setCustomersCommitted(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCustomersCommitted</h4>
<pre class="methodSignature"><a href="state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;void&nbsp;setCustomersCommitted&#8203;(int&nbsp;value)</pre>
</li>
</ul>
<a id="getTotalUsage()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalUsage</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getTotalUsage()</pre>
</li>
</ul>
<a id="subscribe(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre class="methodSignature"><a href="state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;void&nbsp;subscribe&#8203;(int&nbsp;customerCount)</pre>
<div class="block">Subscribes some number of discrete customers. This is typically some portion of the population in a
 population model. We assume this is called from Tariff, as a result of calling tariff.subscribe().
 Also, we record the expiration date of the tariff contract, just in case the tariff has a
 minDuration. For the purpose of computing expiration, all contracts are assumed to begin at
 00:00 on the day of the subscription.</div>
</li>
</ul>
<a id="unsubscribe(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unsubscribe</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;unsubscribe&#8203;(int&nbsp;customerCount)</pre>
<div class="block">Removes customerCount customers (at most) from this subscription,
 posts early-withdrawal fees if appropriate.</div>
</li>
</ul>
<a id="deferredUnsubscribe(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deferredUnsubscribe</h4>
<pre class="methodSignature"><a href="state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;void&nbsp;deferredUnsubscribe&#8203;(int&nbsp;customerCount)</pre>
<div class="block">Handles the actual unsubscribe operation. Intended to be called by
 the TariffMarket (phase 4) to avoid subscription changes between customer
 consumption/production and balancing.</div>
</li>
</ul>
<a id="handleRevokedTariff()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleRevokedTariff</h4>
<pre class="methodSignature">public&nbsp;<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;handleRevokedTariff()</pre>
<div class="block">Handles the subscription switch in case the underlying Tariff has been
 revoked. The actual processing of tariff revocations, including switching
 subscriptions to superseding tariffs, is deferred to be handled by the
 tariff market.</div>
</li>
</ul>
<a id="usePower(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>usePower</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;usePower&#8203;(double&nbsp;kwh)</pre>
<div class="block">Generates and posts a TariffTransaction instance for the current timeslot that
 represents the amount of production (negative amount) or consumption
 (positive amount), along with the credit/debit that results. Also generates
 a separate TariffTransaction for the fixed periodic payment if it's non-zero.
 Note that the power usage value and the numbers in the
 TariffTransaction are aggregated across the subscribed population,
 not per-member values. This is where the signs on energy and cost are inverted
 to convert from the customer-centric view in the tariff to the broker-centric
 view in the transactions.</div>
</li>
</ul>
<a id="getCurtailment()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurtailment</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getCurtailment()</pre>
<div class="block">Returns the regulation in kwh, aggregated across the subscribed population,
 for the previous timeslot. 
 Intended to be called by Customer models only. Value is non-negative for
 consumption power types, non-positive for production types. For storage
 types it may be positive or negative.
 
 NOTE: this method is not idempotent; if you call it twice
 in the same timeslot, the second time returns zero.</div>
</li>
</ul>
<a id="getRegulation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegulation</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getRegulation()</pre>
<div class="block">Returns the regulation quantity exercised per member
 in the previous timeslot. For non-storage devices,
 only up-regulation through curtailment is supported, 
 and the result will be a non-negative value.
 For storage devices, it may be positive (up-regulation) or negative
 (down-regulation). 
 Intended to be called by customer models.
 
 NOTE: This method is not idempotent,
 because the regulation quantity is reset to zero after it's accessed.</div>
</li>
</ul>
<a id="setRegulation(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRegulation</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setRegulation&#8203;(double&nbsp;newValue)</pre>
</li>
</ul>
<a id="setRegulationCapacity(org.powertac.common.RegulationCapacity)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRegulationCapacity</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setRegulationCapacity&#8203;(<a href="RegulationCapacity.html" title="class in org.powertac.common">RegulationCapacity</a>&nbsp;capacity)</pre>
<div class="block">Communicates the ability of the customer model to handle regulation
 requests. Quantities are per-member.
 
 NOTE: This method must be called once/timeslot for any customer that
 offers regulation capacity, because otherwise the capacity will be
 carried over from the previous timeslot.</div>
</li>
</ul>
<a id="ensureRegulationCapacity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureRegulationCapacity</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;ensureRegulationCapacity()</pre>
<div class="block">Ensures that regulationAccumulator is non-null -
 needed for non-regulatable customer models</div>
</li>
</ul>
<a id="hasRegulationRate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasRegulationRate</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;hasRegulationRate()</pre>
<div class="block">True just in case this subscription allows regulation.</div>
</li>
</ul>
<a id="postRatioControl(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postRatioControl</h4>
<pre class="methodSignature"><a href="state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;void&nbsp;postRatioControl&#8203;(double&nbsp;ratio)</pre>
<div class="block">Posts the ratio for an EconomicControlEvent to the subscription for the
 current timeslot.</div>
</li>
</ul>
<a id="postBalancingControl(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postBalancingControl</h4>
<pre class="methodSignature"><a href="state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;void&nbsp;postBalancingControl&#8203;(double&nbsp;kwh)</pre>
<div class="block">Posts a BalancingControlEvent to the subscription and generates the correct
 TariffTransaction. This updates
 the regulation for the current timeslot by the amount of the control.
 A positive value for kwh represents up-regulation, or an
 increase in production - in other words, a net gain for the broker's
 energy account balance. The kwh value is a population value, not a
 per-member value.</div>
</li>
</ul>
<a id="getRemainingRegulationCapacity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemainingRegulationCapacity</h4>
<pre class="methodSignature">public&nbsp;<a href="RegulationAccumulator.html" title="class in org.powertac.common">RegulationAccumulator</a>&nbsp;getRemainingRegulationCapacity()</pre>
<div class="block">Returns the maximum aggregate up-regulation possible after the
 customer model has run and possibly applied economic controls.
 Since this is potentially 
 accessed through the balancing market after customers have updated their
 subscriptions, it's possible
 that the value will have to be changed due to a change in customer count.
 TODO: may need to be modified -- see issue #733.</div>
</li>
</ul>
<a id="getExpiredCustomerCount()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getExpiredCustomerCount</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getExpiredCustomerCount()</pre>
<div class="block">Returns the number of individual customers who may withdraw from this
 subscription without penalty. Should return the total customer count
 for a non-expiring tariff.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TariffSubscription.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2020 <a href="http://www.powertac.org/">Power TAC</a>. All rights reserved.</small></p>
</footer>
</body>
</html>

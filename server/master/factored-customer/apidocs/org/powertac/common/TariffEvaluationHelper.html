<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Tue Mar 24 15:50:17 UTC 2020 -->
<title>TariffEvaluationHelper (Power TAC factored customer 1.7.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-03-24">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TariffEvaluationHelper (Power TAC factored customer 1.7.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":9,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TariffEvaluationHelper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.powertac.common</a></div>
<h2 title="Class TariffEvaluationHelper" class="title">Class TariffEvaluationHelper</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.powertac.common.TariffEvaluationHelper</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">TariffEvaluationHelper</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Probe object that can be used by customer models and other players
 to generate cost estimates for tariffs, including a risk-adjusted
 estimates of the actual cost of
 variable-rate tariffs. There are four values for a variable-rate tariff
 that must be combined to generate an estimate: the broker's claim of
 the expectedMean price, the brokers commitment to a maxValue of the
 price, the actual experienced realizedPrice, and the amount of power
 that has been sold through the tariff. The assumption is that the
 actual realizedPrice would be more predictive for a tariff
 with a more substantial price history (large amount of power sold).
 
 Note that some of the data needed to estimate price comes from the
 Tariff's Rates, which may apply at certain times and/or under certain
 tier threshold conditions, and some comes from the Tariff itself.
 
 The price estimate is generated as <br/>
 &nbsp;&nbsp;
 alpha * (wtExpected * expectedMean + wtMax * maxValue)<br/>
 &nbsp;&nbsp;&nbsp;&nbsp;
 + (1 - alpha) * realizedPrice<br/>
 where alpha = 1 - wtRealized * (1 - 1 / (1 + totalKWh / soldThreshold)).
 
 In the case where multiple variable Rates apply, the values of 
 expectedMean and maxValue are the usage-weighted means of the
 corresponding values from the individual Rates.
 
 Usage: A Customer may need to evaluate multiple tariff offerings by
 estimating cost over a week or more of 1-hour timeslots. Tier usage
 is computed over a 24-hour period. Therefore, the recommended usage
 is to create a single instance of this class for each customer model,
 and re-initialize it for each tariff. Therefore, only a default
 constructor is provided, along with an init() method that clears out
 state and optionally sets parameter values.
 
 Evalution of time-of-use rates depends on being able to compute the hour
 of the day for some arbitrary offset. This functionality depends on the
 Joda Time "default time zone" being set to DateTimeZone.UTC. This normally
 happens in the TimeService, but may also need to be done in test code.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>John Collins</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">TariffEvaluationHelper</a></span>()</code></th>
<td class="colLast">
<div class="block">Default constructor</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#estimateCost(org.powertac.common.Tariff,double%5B%5D)">estimateCost</a></span>&#8203;(<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff,
            double[]&nbsp;usage)</code></th>
<td class="colLast">
<div class="block">Returns aggregate estimated cost, including periodic charges,
 starting in the next timeslot.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#estimateCost(org.powertac.common.Tariff,double%5B%5D,boolean)">estimateCost</a></span>&#8203;(<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff,
            double[]&nbsp;usage,
            boolean&nbsp;includePeriodicCharge)</code></th>
<td class="colLast">
<div class="block">Estimate cost for a profile starting in the next timeslot</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#estimateCost(org.powertac.common.Tariff,double%5B%5D,org.joda.time.Instant)">estimateCost</a></span>&#8203;(<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff,
            double[]&nbsp;usage,
            org.joda.time.Instant&nbsp;start)</code></th>
<td class="colLast">
<div class="block">Returns aggregate estimated cost, including periodic charges</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#estimateCost(org.powertac.common.Tariff,double%5B%5D,org.joda.time.Instant,boolean)">estimateCost</a></span>&#8203;(<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff,
            double[]&nbsp;usage,
            org.joda.time.Instant&nbsp;start,
            boolean&nbsp;includePeriodicCharge)</code></th>
<td class="colLast">
<div class="block">Estimate the total cost of buying the given amounts of power
 from the given tariff, starting in the timeslot identified by startIndex.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>double[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#estimateCostArray(org.powertac.common.Tariff,double%5B%5D)">estimateCostArray</a></span>&#8203;(<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff,
                 double[]&nbsp;usage)</code></th>
<td class="colLast">
<div class="block">Returns a cost estimate in array form, including periodic charges.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>double[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#estimateCostArray(org.powertac.common.Tariff,double%5B%5D,boolean)">estimateCostArray</a></span>&#8203;(<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff,
                 double[]&nbsp;usage,
                 boolean&nbsp;includePeriodicCharge)</code></th>
<td class="colLast">
<div class="block">Returns the cost estimate in the form of an array of the same shape
 as the usage vector.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAlpha()">getAlpha</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDownregHalf()">getDownregHalf</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDownregSlope()">getDownregSlope</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExpCurtail()">getExpCurtail</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExpDischarge()">getExpDischarge</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExpDown()">getExpDown</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExpectedCurtailment()">getExpectedCurtailment</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the expected-curtailment-per-timeslot quantity</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExpectedDischarge()">getExpectedDischarge</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the expected-discharge-per-timeslot quantity</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExpectedDownRegulation()">getExpectedDownRegulation</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the expected-down-regulation-per-timeslot quantity</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExpectedRegulation()">getExpectedRegulation</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static org.apache.logging.log4j.Logger</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLog()">getLog</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="msg/MarketBootstrapData.html" title="class in org.powertac.common.msg">MarketBootstrapData</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMarketBootstrapData()">getMarketBootstrapData</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieves the market bootstrap data from the Competition.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNormWtExpected()">getNormWtExpected</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNormWtMax()">getNormWtMax</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSoldThreshold()">getSoldThreshold</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="Tariff.html" title="class in org.powertac.common">Tariff</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTariff()">getTariff</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="TimeService.html" title="class in org.powertac.common">TimeService</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTimeService()">getTimeService</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUpregHalf()">getUpregHalf</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUpregSlope()">getUpregSlope</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getWtExpected()">getWtExpected</a></span>()</code></th>
<td class="colLast">
<div class="block">Parameter access</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getWtMax()">getWtMax</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getWtRealized()">getWtRealized</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#init()">init</a></span>()</code></th>
<td class="colLast">
<div class="block">Initializes, without changing parameter settings</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#init(double,double,double,double)">init</a></span>&#8203;(double&nbsp;wtExpected,
    double&nbsp;wtMax,
    double&nbsp;wtRealized,
    double&nbsp;soldThreshold)</code></th>
<td class="colLast">
<div class="block">Initializes, setting parameters, then normalize the weights for
 expectedMean and maxValue.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initializeCostFactors(double,double,double,double)">initializeCostFactors</a></span>&#8203;(double&nbsp;wtExpected,
                     double&nbsp;wtMax,
                     double&nbsp;wtRealized,
                     double&nbsp;soldThreshold)</code></th>
<td class="colLast">
<div class="block">Initializes cost factors and normalizes</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initializeRegulationDiscount(double,double,double,double)">initializeRegulationDiscount</a></span>&#8203;(double&nbsp;upregHalf,
                            double&nbsp;upregSlope,
                            double&nbsp;downregHalf,
                            double&nbsp;downregSlope)</code></th>
<td class="colLast">
<div class="block">Initializes regulation rate discount factors.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initializeRegulationFactors(double,double,double)">initializeRegulationFactors</a></span>&#8203;(double&nbsp;expectedCurtailment,
                           double&nbsp;expectedDischarge,
                           double&nbsp;expectedDownReg)</code></th>
<td class="colLast">
<div class="block">Initializes regulation factors.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSoldThreshold(double)">setSoldThreshold</a></span>&#8203;(double&nbsp;st)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setWtExpected(double)">setWtExpected</a></span>&#8203;(double&nbsp;wt)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setWtMax(double)">setWtMax</a></span>&#8203;(double&nbsp;wt)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setWtRealized(double)">setWtRealized</a></span>&#8203;(double&nbsp;wt)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TariffEvaluationHelper</h4>
<pre>public&nbsp;TariffEvaluationHelper()</pre>
<div class="block">Default constructor</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="init(double,double,double,double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;init&#8203;(double&nbsp;wtExpected,
                 double&nbsp;wtMax,
                 double&nbsp;wtRealized,
                 double&nbsp;soldThreshold)</pre>
<div class="block">Initializes, setting parameters, then normalize the weights for
 expectedMean and maxValue.</div>
</li>
</ul>
<a id="init()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;init()</pre>
<div class="block">Initializes, without changing parameter settings</div>
</li>
</ul>
<a id="initializeCostFactors(double,double,double,double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeCostFactors</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;initializeCostFactors&#8203;(double&nbsp;wtExpected,
                                  double&nbsp;wtMax,
                                  double&nbsp;wtRealized,
                                  double&nbsp;soldThreshold)</pre>
<div class="block">Initializes cost factors and normalizes</div>
</li>
</ul>
<a id="initializeRegulationFactors(double,double,double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeRegulationFactors</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;initializeRegulationFactors&#8203;(double&nbsp;expectedCurtailment,
                                        double&nbsp;expectedDischarge,
                                        double&nbsp;expectedDownReg)</pre>
<div class="block">Initializes regulation factors. Applicable only for tariffs with
 <a href="RegulationRate.html" title="class in org.powertac.common"><code>RegulationRate</code></a>s. See Section 4.1.1 of the spec for
 details, especially Eq. 5. Signs are from the standpoint of the
 customer -- expectedCurtailment and expectedDischarge are negative,
 expectedDownReg is positive.
 
 If this method is not called, default values are zero for all factors.</div>
</li>
</ul>
<a id="initializeRegulationDiscount(double,double,double,double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeRegulationDiscount</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;initializeRegulationDiscount&#8203;(double&nbsp;upregHalf,
                                         double&nbsp;upregSlope,
                                         double&nbsp;downregHalf,
                                         double&nbsp;downregSlope)</pre>
<div class="block">Initializes regulation rate discount factors. Applicable only for
 tariffs with <a href="RegulationRate.html" title="class in org.powertac.common"><code>RegulationRate</code></a>s.</div>
</li>
</ul>
<a id="getMarketBootstrapData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMarketBootstrapData</h4>
<pre class="methodSignature">public&nbsp;<a href="msg/MarketBootstrapData.html" title="class in org.powertac.common.msg">MarketBootstrapData</a>&nbsp;getMarketBootstrapData()</pre>
<div class="block">Retrieves the market bootstrap data from the Competition.
 Needed to discount regulation rates.</div>
</li>
</ul>
<a id="estimateCost(org.powertac.common.Tariff,double[],org.joda.time.Instant,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateCost</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;estimateCost&#8203;(<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff,
                           double[]&nbsp;usage,
                           org.joda.time.Instant&nbsp;start,
                           boolean&nbsp;includePeriodicCharge)</pre>
<div class="block">Estimate the total cost of buying the given amounts of power
 from the given tariff, starting in the timeslot identified by startIndex.
 Payments include usage charges, and periodic payments just in case
 <code>includePeriodicCharge</code> is true. They do not
 include signup or withdrawal charges.
 Note that there is a strong assumption that the projected usage
 is for a single customer, not the total population in some model.
 This assumption is embedded in the structure of usage tiers in the
 tariff.</div>
</li>
</ul>
<a id="estimateCost(org.powertac.common.Tariff,double[],boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateCost</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;estimateCost&#8203;(<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff,
                           double[]&nbsp;usage,
                           boolean&nbsp;includePeriodicCharge)</pre>
<div class="block">Estimate cost for a profile starting in the next timeslot</div>
</li>
</ul>
<a id="estimateCost(org.powertac.common.Tariff,double[],org.joda.time.Instant)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateCost</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;estimateCost&#8203;(<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff,
                           double[]&nbsp;usage,
                           org.joda.time.Instant&nbsp;start)</pre>
<div class="block">Returns aggregate estimated cost, including periodic charges</div>
</li>
</ul>
<a id="estimateCost(org.powertac.common.Tariff,double[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateCost</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;estimateCost&#8203;(<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff,
                           double[]&nbsp;usage)</pre>
<div class="block">Returns aggregate estimated cost, including periodic charges,
 starting in the next timeslot.</div>
</li>
</ul>
<a id="estimateCostArray(org.powertac.common.Tariff,double[],boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateCostArray</h4>
<pre class="methodSignature">public&nbsp;double[]&nbsp;estimateCostArray&#8203;(<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff,
                                  double[]&nbsp;usage,
                                  boolean&nbsp;includePeriodicCharge)</pre>
<div class="block">Returns the cost estimate in the form of an array of the same shape
 as the usage vector. Each element of the result corresponds to the
 corresponding element of the usage array. Periodic charges are included
 just in case <code>includePeriodicCharge</code> is true.</div>
</li>
</ul>
<a id="estimateCostArray(org.powertac.common.Tariff,double[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateCostArray</h4>
<pre class="methodSignature">public&nbsp;double[]&nbsp;estimateCostArray&#8203;(<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;tariff,
                                  double[]&nbsp;usage)</pre>
<div class="block">Returns a cost estimate in array form, including periodic charges.</div>
</li>
</ul>
<a id="getWtExpected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWtExpected</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getWtExpected()</pre>
<div class="block">Parameter access</div>
</li>
</ul>
<a id="getNormWtExpected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNormWtExpected</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getNormWtExpected()</pre>
</li>
</ul>
<a id="setWtExpected(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setWtExpected</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setWtExpected&#8203;(double&nbsp;wt)</pre>
</li>
</ul>
<a id="getWtMax()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWtMax</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getWtMax()</pre>
</li>
</ul>
<a id="getNormWtMax()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNormWtMax</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getNormWtMax()</pre>
</li>
</ul>
<a id="setWtMax(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setWtMax</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setWtMax&#8203;(double&nbsp;wt)</pre>
</li>
</ul>
<a id="getWtRealized()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWtRealized</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getWtRealized()</pre>
</li>
</ul>
<a id="setWtRealized(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setWtRealized</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setWtRealized&#8203;(double&nbsp;wt)</pre>
</li>
</ul>
<a id="getSoldThreshold()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSoldThreshold</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getSoldThreshold()</pre>
</li>
</ul>
<a id="setSoldThreshold(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSoldThreshold</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setSoldThreshold&#8203;(double&nbsp;st)</pre>
</li>
</ul>
<a id="getExpectedCurtailment()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpectedCurtailment</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getExpectedCurtailment()</pre>
<div class="block">Returns the expected-curtailment-per-timeslot quantity</div>
</li>
</ul>
<a id="getExpectedDischarge()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpectedDischarge</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getExpectedDischarge()</pre>
<div class="block">Returns the expected-discharge-per-timeslot quantity</div>
</li>
</ul>
<a id="getExpectedDownRegulation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpectedDownRegulation</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getExpectedDownRegulation()</pre>
<div class="block">Returns the expected-down-regulation-per-timeslot quantity</div>
</li>
</ul>
<a id="getExpectedRegulation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpectedRegulation</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getExpectedRegulation()</pre>
</li>
</ul>
<a id="getUpregHalf()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUpregHalf</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&nbsp;getUpregHalf()</pre>
</li>
</ul>
<a id="getUpregSlope()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUpregSlope</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&nbsp;getUpregSlope()</pre>
</li>
</ul>
<a id="getDownregHalf()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDownregHalf</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&nbsp;getDownregHalf()</pre>
</li>
</ul>
<a id="getDownregSlope()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDownregSlope</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&nbsp;getDownregSlope()</pre>
</li>
</ul>
<a id="getLog()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLog</h4>
<pre class="methodSignature">public static&nbsp;org.apache.logging.log4j.Logger&nbsp;getLog()</pre>
</li>
</ul>
<a id="getExpCurtail()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpCurtail</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getExpCurtail()</pre>
</li>
</ul>
<a id="getExpDischarge()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpDischarge</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getExpDischarge()</pre>
</li>
</ul>
<a id="getExpDown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpDown</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getExpDown()</pre>
</li>
</ul>
<a id="getAlpha()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAlpha</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getAlpha()</pre>
</li>
</ul>
<a id="getTariff()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTariff</h4>
<pre class="methodSignature">public&nbsp;<a href="Tariff.html" title="class in org.powertac.common">Tariff</a>&nbsp;getTariff()</pre>
</li>
</ul>
<a id="getTimeService()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getTimeService</h4>
<pre class="methodSignature">public&nbsp;<a href="TimeService.html" title="class in org.powertac.common">TimeService</a>&nbsp;getTimeService()</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TariffEvaluationHelper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2020 <a href="http://www.powertac.org/">Power TAC</a>. All rights reserved.</small></p>
</footer>
</body>
</html>

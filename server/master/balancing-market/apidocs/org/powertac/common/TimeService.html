<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Thu Mar 21 13:30:56 UTC 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TimeService (Power TAC intra-hour market-based balancing 1.6.0-SNAPSHOT API)</title>
<meta name="date" content="2019-03-21">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TimeService (Power TAC intra-hour market-based balancing 1.6.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":9,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":42,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":42,"i20":42,"i21":10,"i22":10,"i23":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TimeService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/powertac/common/TimedAction.html" title="interface in org.powertac.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/powertac/common/Timeslot.html" title="class in org.powertac.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/powertac/common/TimeService.html" target="_top">Frames</a></li>
<li><a href="TimeService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.powertac.common</div>
<h2 title="Class TimeService" class="title">Class TimeService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.powertac.common.TimeService</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@Scope(value="singleton")
 @Service
public class <span class="typeNameLabel">TimeService</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This is the simulation time-keeper and event queue. Here's how it works:
 <ul>
 <li>You create it with four parameters: (base, start, rate, modulo), defined as
   <ul>
   <li><strong>base</strong> is the start time of the simulation scenario. So if we
     are simulating a period in the summer of 2007, base might be 2007-06-21-12:00.</li>
   <li><strong>start</strong> is the start time of the simulation run.</li>
   <li><strong>rate</strong> is the time-compression ratio for the simulation. So if we are
     running one-hour timeslots every 5 seconds, the rate would be 720.</li>
   <li><strong>modulo</strong> controls the values of simulation time values reported. If
     we are running one-hour timeslots, then the modulo should be one hour, expressed
     in milliseconds. If we are running one-hour timeslots but want to update time every
     30 minutes of simulated time, then the modulo would be 30*60*1000. Note that
     this will not work correctly unless the calls to updateTime() are made at
     modulo/rate intervals. Also note that the reported time is computed as
     rawTime - rawTime % modulo, which means it will never be ahead of the raw 
     simulation time.</li>
   </ul></li>
 <li>Some process periodically calls updateTime(), at least once every simulated hour. This
   sets the currentTime property to the correct scenario time as<br/>
   <code>currentTime = base + (systemTime - start) * rate</code><br/>
   and runs any simulation actions that are due.</li>
 <li>If you want something to happen sometime in the future, you add an action by
   calling addAction(time, action). Assuming time is not in the past, then the action
   (a closure with a single argument, the current time) is added to a time-ordered queue, 
   and will be run when its time arrives.</li>
 </ul>
 Note that all times are absolute times represented as UTC; timezone offset is 0, and there
 is no "daylight-saving" time. If we want to represent the effects of DST, we'll have to have
 our customers wake up earlier in the summertime.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>John Collins</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#DAY">DAY</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#HOUR">HOUR</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#MINUTE">MINUTE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#SECOND">SECOND</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#WEEK">WEEK</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#TimeService--">TimeService</a></span>()</code>
<div class="block">Default constructor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#TimeService-long-long-long-long-">TimeService</a></span>(long&nbsp;base,
           long&nbsp;start,
           long&nbsp;rate,
           long&nbsp;modulo)</code>
<div class="block">Handy constructor for testing</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#addAction-org.joda.time.Instant-org.powertac.common.TimedAction-">addAction</a></span>(org.joda.time.Instant&nbsp;time,
         <a href="../../../org/powertac/common/TimedAction.html" title="interface in org.powertac.common">TimedAction</a>&nbsp;act)</code>
<div class="block">Adds an action to the simulation queue, to be triggered at the specified time.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#getBase--">getBase</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>org.joda.time.Instant</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#getBaseInstant--">getBaseInstant</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>org.joda.time.DateTime</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#getCurrentDateTime--">getCurrentDateTime</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>org.joda.time.Instant</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#getCurrentTime--">getCurrentTime</a></span>()</code>
<div class="block">Returns the current time as an Instant</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#getHourOfDay--">getHourOfDay</a></span>()</code>
<div class="block">Returns the current hour-of-day</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static <a href="../../../org/powertac/common/TimeService.html" title="class in org.powertac.common">TimeService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#getInstance--">getInstance</a></span>()</code>
<div class="block">Returns the most-recently created instance of TimeService.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#getModulo--">getModulo</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#getOffset--">getOffset</a></span>()</code>
<div class="block">Computes and returns the offset in msec between the current system time
 and the current clock time.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#getRate--">getRate</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#getStart--">getStart</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#init-org.joda.time.Instant-">init</a></span>(org.joda.time.Instant&nbsp;start)</code>
<div class="block">Sets current time to modulo before the desired start time.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#setBase-long-">setBase</a></span>(long&nbsp;value)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">use <a href="../../../org/powertac/common/TimeService.html#setClockParameters-long-long-long-"><code>setClockParameters(long, long, long)</code></a> instead</span></div>
</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#setClockParameters-org.powertac.common.Competition-">setClockParameters</a></span>(<a href="../../../org/powertac/common/Competition.html" title="class in org.powertac.common">Competition</a>&nbsp;comp)</code>
<div class="block">Sets base, rate, and modulo from a Competition instance</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#setClockParameters-long-long-long-">setClockParameters</a></span>(long&nbsp;base,
                  long&nbsp;rate,
                  long&nbsp;modulo)</code>
<div class="block">Sets base, rate, and modulo clock parameters with a single call.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#setClockParameters-java.util.Map-">setClockParameters</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;params)</code>
<div class="block">Sets base, rate, and modulo parameters from a map, which is wrapped
 in a Configuration to allow for conversions and default values.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#setCurrentTime--">setCurrentTime</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#setCurrentTime-org.joda.time.base.AbstractDateTime-">setCurrentTime</a></span>(org.joda.time.base.AbstractDateTime&nbsp;time)</code>
<div class="block">Sets current time to a specific value.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#setCurrentTime-org.joda.time.Instant-">setCurrentTime</a></span>(org.joda.time.Instant&nbsp;time)</code>
<div class="block">Sets current time to a specific value.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#setModulo-long-">setModulo</a></span>(long&nbsp;value)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">use <a href="../../../org/powertac/common/TimeService.html#setClockParameters-long-long-long-"><code>setClockParameters(long, long, long)</code></a> instead</span></div>
</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#setRate-long-">setRate</a></span>(long&nbsp;value)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">use <a href="../../../org/powertac/common/TimeService.html#setClockParameters-long-long-long-"><code>setClockParameters(long, long, long)</code></a> instead</span></div>
</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#setStart-long-">setStart</a></span>(long&nbsp;start)</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>org.joda.time.Instant</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#truncateInstant-org.joda.time.Instant-long-">truncateInstant</a></span>(org.joda.time.Instant&nbsp;time,
               long&nbsp;mod)</code>
<div class="block">Returns the most recent Instant at which time % modulo was zero</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/powertac/common/TimeService.html#updateTime--">updateTime</a></span>()</code>
<div class="block">Updates simulation time when called as specified by clock
 parameters, then runs any actions that may be due.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="SECOND">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SECOND</h4>
<pre>public static final&nbsp;long SECOND</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.powertac.common.TimeService.SECOND">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MINUTE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MINUTE</h4>
<pre>public static final&nbsp;long MINUTE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.powertac.common.TimeService.MINUTE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="HOUR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HOUR</h4>
<pre>public static final&nbsp;long HOUR</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.powertac.common.TimeService.HOUR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DAY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DAY</h4>
<pre>public static final&nbsp;long DAY</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.powertac.common.TimeService.DAY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="WEEK">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WEEK</h4>
<pre>public static final&nbsp;long WEEK</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.powertac.common.TimeService.WEEK">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TimeService--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TimeService</h4>
<pre>public&nbsp;TimeService()</pre>
<div class="block">Default constructor. You need to set base, rate, start, and modulo before using it.</div>
</li>
</ul>
<a name="TimeService-long-long-long-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TimeService</h4>
<pre>public&nbsp;TimeService(long&nbsp;base,
                   long&nbsp;start,
                   long&nbsp;rate,
                   long&nbsp;modulo)</pre>
<div class="block">Handy constructor for testing</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../org/powertac/common/TimeService.html" title="class in org.powertac.common">TimeService</a>&nbsp;getInstance()</pre>
<div class="block">Returns the most-recently created instance of TimeService. Intended
 to be used only for testing in Spring-free environment. Note that this
 is not a Singleton-type instance getter - it will not create an instance.</div>
</li>
</ul>
<a name="init-org.joda.time.Instant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(org.joda.time.Instant&nbsp;start)</pre>
<div class="block">Sets current time to modulo before the desired start time. 
 This allows scheduling
 of actions to take place on the first tick, which should be at the
 desired start time. Call this after setting clock parameters.</div>
</li>
</ul>
<a name="updateTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTime</h4>
<pre>public&nbsp;void&nbsp;updateTime()</pre>
<div class="block">Updates simulation time when called as specified by clock
 parameters, then runs any actions that may be due.</div>
</li>
</ul>
<a name="truncateInstant-org.joda.time.Instant-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>truncateInstant</h4>
<pre>public&nbsp;org.joda.time.Instant&nbsp;truncateInstant(org.joda.time.Instant&nbsp;time,
                                             long&nbsp;mod)</pre>
<div class="block">Returns the most recent Instant at which time % modulo was zero</div>
</li>
</ul>
<a name="setClockParameters-long-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setClockParameters</h4>
<pre>public&nbsp;void&nbsp;setClockParameters(long&nbsp;base,
                               long&nbsp;rate,
                               long&nbsp;modulo)</pre>
<div class="block">Sets base, rate, and modulo clock parameters with a single call. We
 do not set start at this point, because it is changed whenever the clock
 is paused and therefore needs to be treated separately.</div>
</li>
</ul>
<a name="setClockParameters-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setClockParameters</h4>
<pre>public&nbsp;void&nbsp;setClockParameters(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;params)</pre>
<div class="block">Sets base, rate, and modulo parameters from a map, which is wrapped
 in a Configuration to allow for conversions and default values. The 
 map must contain entries named "base", "rate", and "modulo". We also init
 the clock here, because we have all the parameters.</div>
</li>
</ul>
<a name="setClockParameters-org.powertac.common.Competition-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setClockParameters</h4>
<pre>public&nbsp;void&nbsp;setClockParameters(<a href="../../../org/powertac/common/Competition.html" title="class in org.powertac.common">Competition</a>&nbsp;comp)</pre>
<div class="block">Sets base, rate, and modulo from a Competition instance</div>
</li>
</ul>
<a name="getBase--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBase</h4>
<pre>public&nbsp;long&nbsp;getBase()</pre>
</li>
</ul>
<a name="getBaseInstant--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBaseInstant</h4>
<pre>public&nbsp;org.joda.time.Instant&nbsp;getBaseInstant()</pre>
</li>
</ul>
<a name="setBase-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBase</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;void&nbsp;setBase(long&nbsp;value)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">use <a href="../../../org/powertac/common/TimeService.html#setClockParameters-long-long-long-"><code>setClockParameters(long, long, long)</code></a> instead</span></div>
</li>
</ul>
<a name="getStart--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStart</h4>
<pre>public&nbsp;long&nbsp;getStart()</pre>
</li>
</ul>
<a name="setStart-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStart</h4>
<pre>public&nbsp;void&nbsp;setStart(long&nbsp;start)</pre>
</li>
</ul>
<a name="getRate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRate</h4>
<pre>public&nbsp;long&nbsp;getRate()</pre>
</li>
</ul>
<a name="setRate-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRate</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;void&nbsp;setRate(long&nbsp;value)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">use <a href="../../../org/powertac/common/TimeService.html#setClockParameters-long-long-long-"><code>setClockParameters(long, long, long)</code></a> instead</span></div>
</li>
</ul>
<a name="getModulo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModulo</h4>
<pre>public&nbsp;long&nbsp;getModulo()</pre>
</li>
</ul>
<a name="setModulo-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setModulo</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;void&nbsp;setModulo(long&nbsp;value)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">use <a href="../../../org/powertac/common/TimeService.html#setClockParameters-long-long-long-"><code>setClockParameters(long, long, long)</code></a> instead</span></div>
</li>
</ul>
<a name="getCurrentTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentTime</h4>
<pre>public&nbsp;org.joda.time.Instant&nbsp;getCurrentTime()</pre>
<div class="block">Returns the current time as an Instant</div>
</li>
</ul>
<a name="getCurrentDateTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentDateTime</h4>
<pre>public&nbsp;org.joda.time.DateTime&nbsp;getCurrentDateTime()</pre>
</li>
</ul>
<a name="getHourOfDay--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHourOfDay</h4>
<pre>public&nbsp;int&nbsp;getHourOfDay()</pre>
<div class="block">Returns the current hour-of-day</div>
</li>
</ul>
<a name="setCurrentTime-org.joda.time.Instant-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCurrentTime</h4>
<pre><a href="../../../org/powertac/common/state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
public&nbsp;void&nbsp;setCurrentTime(org.joda.time.Instant&nbsp;time)</pre>
<div class="block">Sets current time to a specific value. Intended for testing purposes only.</div>
</li>
</ul>
<a name="getOffset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOffset</h4>
<pre>public&nbsp;long&nbsp;getOffset()</pre>
<div class="block">Computes and returns the offset in msec between the current system time
 and the current clock time.</div>
</li>
</ul>
<a name="setCurrentTime-org.joda.time.base.AbstractDateTime-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCurrentTime</h4>
<pre><a href="../../../org/powertac/common/state/StateChange.html" title="annotation in org.powertac.common.state">@StateChange</a>
protected&nbsp;void&nbsp;setCurrentTime(org.joda.time.base.AbstractDateTime&nbsp;time)</pre>
<div class="block">Sets current time to a specific value. Intended for testing purposes only.</div>
</li>
</ul>
<a name="setCurrentTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCurrentTime</h4>
<pre>public&nbsp;void&nbsp;setCurrentTime()</pre>
</li>
</ul>
<a name="addAction-org.joda.time.Instant-org.powertac.common.TimedAction-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addAction</h4>
<pre>public&nbsp;void&nbsp;addAction(org.joda.time.Instant&nbsp;time,
                      <a href="../../../org/powertac/common/TimedAction.html" title="interface in org.powertac.common">TimedAction</a>&nbsp;act)</pre>
<div class="block">Adds an action to the simulation queue, to be triggered at the specified time.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TimeService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/powertac/common/TimedAction.html" title="interface in org.powertac.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/powertac/common/Timeslot.html" title="class in org.powertac.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/powertac/common/TimeService.html" target="_top">Frames</a></li>
<li><a href="TimeService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="http://www.powertac.org/">Power TAC</a>. All rights reserved.</small></p>
</body>
</html>

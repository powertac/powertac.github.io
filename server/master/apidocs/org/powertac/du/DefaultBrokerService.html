<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Mon Jan 18 18:54:15 UTC 2021 -->
<title>DefaultBrokerService (Power TAC server modules 1.8.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-01-18">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DefaultBrokerService (Power TAC server modules 1.8.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultBrokerService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.powertac.du</a></div>
<h2 title="Class DefaultBrokerService" class="title">Class DefaultBrokerService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.powertac.du.DefaultBrokerService</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../common/interfaces/BootstrapDataCollector.html" title="interface in org.powertac.common.interfaces">BootstrapDataCollector</a></code>, <code><a href="../common/interfaces/InitializationService.html" title="interface in org.powertac.common.interfaces">InitializationService</a></code></dd>
</dl>
<hr>
<pre>@Service
public class <span class="typeNameLabel">DefaultBrokerService</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="../common/interfaces/BootstrapDataCollector.html" title="interface in org.powertac.common.interfaces">BootstrapDataCollector</a>, <a href="../common/interfaces/InitializationService.html" title="interface in org.powertac.common.interfaces">InitializationService</a></pre>
<div class="block">Default broker implementation. We do the implementation in a service, because
 the default broker is a singleton and it's convenient. The actual Broker
 instance is implemented in an inner class. Note that this is not a type of
 TimeslotPhaseProcessor. It's a broker, and so it runs after the last message
 of the timeslot goes out, the TimeslotComplete message. As implemented, it runs
 in the message-sending thread. If this turns out to cause problems with real
 brokers, it could run in its own thread.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>John Collins</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">DefaultBrokerService</a></span>()</code></th>
<td class="colLast">
<div class="block">Default constructor, called once when the server starts, before
 any application-specific initialization has been done.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#activate()">activate</a></span>()</code></th>
<td class="colLast">
<div class="block">In each timeslot, we must trade in the wholesale market to satisfy the
 predicted load of our current customer base.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#collectBootstrapData(int)">collectBootstrapData</a></span>&#8203;(int&nbsp;maxTimeslots)</code></th>
<td class="colLast">
<div class="block">Collects and returns a list of messages representing collected customer
 demand, market price, and weather records for the bootstrap period.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../common/Broker.html" title="class in org.powertac.common">Broker</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createBroker(java.lang.String)">createBroker</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username)</code></th>
<td class="colLast">
<div class="block">Creates the internal Broker instance that can receive messages intended
 for local Brokers.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBuyLimitPriceMax()">getBuyLimitPriceMax</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBuyLimitPriceMin()">getBuyLimitPriceMin</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConsumptionRate()">getConsumptionRate</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="DefaultBroker.html" title="class in org.powertac.du">DefaultBroker</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFace()">getFace</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getInitialBidKWh()">getInitialBidKWh</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getProductionRate()">getProductionRate</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSellLimitPriceMax()">getSellLimitPriceMax</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSellLimitPriceMin()">getSellLimitPriceMin</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStorageTariffMargin()">getStorageTariffMargin</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStorageTariffValue()">getStorageTariffValue</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleMessage(org.powertac.common.CashPosition)">handleMessage</a></span>&#8203;(<a href="../common/CashPosition.html" title="class in org.powertac.common">CashPosition</a>&nbsp;cp)</code></th>
<td class="colLast">
<div class="block">CashPosition is the last message sent by Accounting.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleMessage(org.powertac.common.MarketTransaction)">handleMessage</a></span>&#8203;(<a href="../common/MarketTransaction.html" title="class in org.powertac.common">MarketTransaction</a>&nbsp;tx)</code></th>
<td class="colLast">
<div class="block">Receives a new MarketTransaction.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleMessage(org.powertac.common.msg.BrokerAccept)">handleMessage</a></span>&#8203;(<a href="../common/msg/BrokerAccept.html" title="class in org.powertac.common.msg">BrokerAccept</a>&nbsp;ba)</code></th>
<td class="colLast">
<div class="block">Handles the BrokerAccept message for completeness</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleMessage(org.powertac.common.msg.CustomerBootstrapData)">handleMessage</a></span>&#8203;(<a href="../common/msg/CustomerBootstrapData.html" title="class in org.powertac.common.msg">CustomerBootstrapData</a>&nbsp;cbd)</code></th>
<td class="colLast">
<div class="block">Handles CustomerBootstrapData by populating the customer model 
 corresponding to the given customer and power type.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleMessage(org.powertac.common.msg.TimeslotComplete)">handleMessage</a></span>&#8203;(<a href="../common/msg/TimeslotComplete.html" title="class in org.powertac.common.msg">TimeslotComplete</a>&nbsp;tc)</code></th>
<td class="colLast">
<div class="block">TimeslotComplete is the last message sent in each timeslot.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleMessage(org.powertac.common.TariffTransaction)">handleMessage</a></span>&#8203;(<a href="../common/TariffTransaction.html" title="class in org.powertac.common">TariffTransaction</a>&nbsp;ttx)</code></th>
<td class="colLast">
<div class="block">Handles a TariffTransaction.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleMessage(org.powertac.common.WeatherReport)">handleMessage</a></span>&#8203;(<a href="../common/WeatherReport.html" title="class in org.powertac.common">WeatherReport</a>&nbsp;report)</code></th>
<td class="colLast">
<div class="block">Receives a new WeatherReport.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initialize(org.powertac.common.Competition,java.util.List)">initialize</a></span>&#8203;(<a href="../common/Competition.html" title="class in org.powertac.common">Competition</a>&nbsp;competition,
          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;completedInits)</code></th>
<td class="colLast">
<div class="block">Called by initialization service once at the beginning of each game.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#receiveBrokerMessage(java.lang.Object)">receiveBrokerMessage</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;msg)</code></th>
<td class="colLast">
<div class="block">Incoming messages for brokers include:
 
 TariffTransaction tells us about customer subscription
   activity and power usage,
 MarketPosition tells us how much power we have bought
   or sold in a given timeslot,
 TimeslotComplete that tell us it's time to send in our bids/asks
 
 along with a number of other message types that we can safely ignore.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setBuyLimitPriceMax(double)">setBuyLimitPriceMax</a></span>&#8203;(double&nbsp;buyLimitPriceMax)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setBuyLimitPriceMin(double)">setBuyLimitPriceMin</a></span>&#8203;(double&nbsp;buyLimitPriceMin)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setConsumptionRate(double)">setConsumptionRate</a></span>&#8203;(double&nbsp;defaultConsumptionRate)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setInitialBidKWh(double)">setInitialBidKWh</a></span>&#8203;(double&nbsp;initialBidKWh)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setProductionRate(double)">setProductionRate</a></span>&#8203;(double&nbsp;defaultProductionRate)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSellLimitPriceMax(double)">setSellLimitPriceMax</a></span>&#8203;(double&nbsp;sellLimitPriceMax)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSellLimitPriceMin(double)">setSellLimitPriceMin</a></span>&#8203;(double&nbsp;sellLimitPriceMin)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setStorageTariffMargin(double)">setStorageTariffMargin</a></span>&#8203;(double&nbsp;storageTariffMargin)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setStorageTariffValue(double)">setStorageTariffValue</a></span>&#8203;(double&nbsp;storageTariffValue)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DefaultBrokerService</h4>
<pre>public&nbsp;DefaultBrokerService()</pre>
<div class="block">Default constructor, called once when the server starts, before
 any application-specific initialization has been done.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="initialize(org.powertac.common.Competition,java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;initialize&#8203;(<a href="../common/Competition.html" title="class in org.powertac.common">Competition</a>&nbsp;competition,
                         <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;completedInits)</pre>
<div class="block">Called by initialization service once at the beginning of each game.
 Configures parameters, sets up and publishes default tariffs.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/interfaces/InitializationService.html#initialize(org.powertac.common.Competition,java.util.List)">initialize</a></code>&nbsp;in interface&nbsp;<code><a href="../common/interfaces/InitializationService.html" title="interface in org.powertac.common.interfaces">InitializationService</a></code></dd>
</dl>
</li>
</ul>
<a id="createBroker(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createBroker</h4>
<pre class="methodSignature">public&nbsp;<a href="../common/Broker.html" title="class in org.powertac.common">Broker</a>&nbsp;createBroker&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;username)</pre>
<div class="block">Creates the internal Broker instance that can receive messages intended
 for local Brokers. It would be a Really Bad Idea to call this at any time
 other than during the pre-game phase of a competition, because this method
 does not register the broker in the BrokerRepo, which is a requirement to
 see the messages.</div>
</li>
</ul>
<a id="getFace()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFace</h4>
<pre class="methodSignature">public&nbsp;<a href="DefaultBroker.html" title="class in org.powertac.du">DefaultBroker</a>&nbsp;getFace()</pre>
</li>
</ul>
<a id="activate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activate</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;activate()</pre>
<div class="block">In each timeslot, we must trade in the wholesale market to satisfy the
 predicted load of our current customer base.</div>
</li>
</ul>
<a id="receiveBrokerMessage(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveBrokerMessage</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;receiveBrokerMessage&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;msg)</pre>
<div class="block">Incoming messages for brokers include:
 <ul>
 <li>TariffTransaction tells us about customer subscription
   activity and power usage,</li>
 <li>MarketPosition tells us how much power we have bought
   or sold in a given timeslot,</li>
 <li>TimeslotComplete that tell us it's time to send in our bids/asks</li>
 </ul>
 along with a number of other message types that we can safely ignore.</div>
</li>
</ul>
<a id="handleMessage(org.powertac.common.msg.BrokerAccept)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleMessage</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleMessage&#8203;(<a href="../common/msg/BrokerAccept.html" title="class in org.powertac.common.msg">BrokerAccept</a>&nbsp;ba)</pre>
<div class="block">Handles the BrokerAccept message for completeness</div>
</li>
</ul>
<a id="handleMessage(org.powertac.common.TariffTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleMessage</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleMessage&#8203;(<a href="../common/TariffTransaction.html" title="class in org.powertac.common">TariffTransaction</a>&nbsp;ttx)</pre>
<div class="block">Handles a TariffTransaction. We only care about certain types: PRODUCE,
 CONSUME, SIGNUP, and WITHDRAW.</div>
</li>
</ul>
<a id="handleMessage(org.powertac.common.WeatherReport)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleMessage</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleMessage&#8203;(<a href="../common/WeatherReport.html" title="class in org.powertac.common">WeatherReport</a>&nbsp;report)</pre>
<div class="block">Receives a new WeatherReport. We only care about this if in bootstrap
 mode, in which case we simply store it in the bootstrap dataset.</div>
</li>
</ul>
<a id="handleMessage(org.powertac.common.MarketTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleMessage</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleMessage&#8203;(<a href="../common/MarketTransaction.html" title="class in org.powertac.common">MarketTransaction</a>&nbsp;tx)</pre>
<div class="block">Receives a new MarketTransaction. In bootstrapMode, we need to record
 these as they arrive in order to be able to compute delivered price of
 power purchased in the wholesale market. Note that this computation will
 ignore balancing cost. This is intentional.</div>
</li>
</ul>
<a id="handleMessage(org.powertac.common.msg.CustomerBootstrapData)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleMessage</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleMessage&#8203;(<a href="../common/msg/CustomerBootstrapData.html" title="class in org.powertac.common.msg">CustomerBootstrapData</a>&nbsp;cbd)</pre>
<div class="block">Handles CustomerBootstrapData by populating the customer model 
 corresponding to the given customer and power type. This gives the
 broker a running start.</div>
</li>
</ul>
<a id="handleMessage(org.powertac.common.CashPosition)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleMessage</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleMessage&#8203;(<a href="../common/CashPosition.html" title="class in org.powertac.common">CashPosition</a>&nbsp;cp)</pre>
<div class="block">CashPosition is the last message sent by Accounting.
 In bootstrapMode, this is when we collect customer
 usage data.</div>
</li>
</ul>
<a id="handleMessage(org.powertac.common.msg.TimeslotComplete)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleMessage</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleMessage&#8203;(<a href="../common/msg/TimeslotComplete.html" title="class in org.powertac.common.msg">TimeslotComplete</a>&nbsp;tc)</pre>
<div class="block">TimeslotComplete is the last message sent in each timeslot.
 This is normally when any broker would submit its bids, so that's when
 the DefaultBroker will do it. Any earlier, and we will find ourselves
 unable to trade in the furthest slot, because it will not yet have 
 been enabled.</div>
</li>
</ul>
<a id="collectBootstrapData(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collectBootstrapData</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;&nbsp;collectBootstrapData&#8203;(int&nbsp;maxTimeslots)</pre>
<div class="block">Collects and returns a list of messages representing collected customer
 demand, market price, and weather records for the bootstrap period. Note
 that the customer and weather info is flattened.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/interfaces/BootstrapDataCollector.html#collectBootstrapData(int)">collectBootstrapData</a></code>&nbsp;in interface&nbsp;<code><a href="../common/interfaces/BootstrapDataCollector.html" title="interface in org.powertac.common.interfaces">BootstrapDataCollector</a></code></dd>
</dl>
</li>
</ul>
<a id="getConsumptionRate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConsumptionRate</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getConsumptionRate()</pre>
</li>
</ul>
<a id="setConsumptionRate(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConsumptionRate</h4>
<pre class="methodSignature"><a href="../common/config/ConfigurableValue.html" title="annotation in org.powertac.common.config">@ConfigurableValue</a>(<a href="../common/config/ConfigurableValue.html#valueType()">valueType</a>="Double",
                   <a href="../common/config/ConfigurableValue.html#description()">description</a>="Fixed price/kwh for default consumption tariff")
public&nbsp;void&nbsp;setConsumptionRate&#8203;(double&nbsp;defaultConsumptionRate)</pre>
</li>
</ul>
<a id="getProductionRate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProductionRate</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getProductionRate()</pre>
</li>
</ul>
<a id="setProductionRate(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setProductionRate</h4>
<pre class="methodSignature"><a href="../common/config/ConfigurableValue.html" title="annotation in org.powertac.common.config">@ConfigurableValue</a>(<a href="../common/config/ConfigurableValue.html#valueType()">valueType</a>="Double",
                   <a href="../common/config/ConfigurableValue.html#description()">description</a>="Fixed price/kwh for default production tariff")
public&nbsp;void&nbsp;setProductionRate&#8203;(double&nbsp;defaultProductionRate)</pre>
</li>
</ul>
<a id="getInitialBidKWh()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInitialBidKWh</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getInitialBidKWh()</pre>
</li>
</ul>
<a id="setInitialBidKWh(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInitialBidKWh</h4>
<pre class="methodSignature"><a href="../common/config/ConfigurableValue.html" title="annotation in org.powertac.common.config">@ConfigurableValue</a>(<a href="../common/config/ConfigurableValue.html#valueType()">valueType</a>="Double",
                   <a href="../common/config/ConfigurableValue.html#description()">description</a>="Quantity to buy in day-ahead market before seeing actual customer data")
public&nbsp;void&nbsp;setInitialBidKWh&#8203;(double&nbsp;initialBidKWh)</pre>
</li>
</ul>
<a id="getBuyLimitPriceMax()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBuyLimitPriceMax</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getBuyLimitPriceMax()</pre>
</li>
</ul>
<a id="setBuyLimitPriceMax(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBuyLimitPriceMax</h4>
<pre class="methodSignature"><a href="../common/config/ConfigurableValue.html" title="annotation in org.powertac.common.config">@ConfigurableValue</a>(<a href="../common/config/ConfigurableValue.html#valueType()">valueType</a>="Double",
                   <a href="../common/config/ConfigurableValue.html#description()">description</a>="Initial limit price/mwh for bids in day-ahead market")
public&nbsp;void&nbsp;setBuyLimitPriceMax&#8203;(double&nbsp;buyLimitPriceMax)</pre>
</li>
</ul>
<a id="getBuyLimitPriceMin()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBuyLimitPriceMin</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getBuyLimitPriceMin()</pre>
</li>
</ul>
<a id="setBuyLimitPriceMin(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBuyLimitPriceMin</h4>
<pre class="methodSignature"><a href="../common/config/ConfigurableValue.html" title="annotation in org.powertac.common.config">@ConfigurableValue</a>(<a href="../common/config/ConfigurableValue.html#valueType()">valueType</a>="Double",
                   <a href="../common/config/ConfigurableValue.html#description()">description</a>="Final limit price/mwh for bids in day-ahead market")
public&nbsp;void&nbsp;setBuyLimitPriceMin&#8203;(double&nbsp;buyLimitPriceMin)</pre>
</li>
</ul>
<a id="getSellLimitPriceMax()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSellLimitPriceMax</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getSellLimitPriceMax()</pre>
</li>
</ul>
<a id="setSellLimitPriceMax(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSellLimitPriceMax</h4>
<pre class="methodSignature"><a href="../common/config/ConfigurableValue.html" title="annotation in org.powertac.common.config">@ConfigurableValue</a>(<a href="../common/config/ConfigurableValue.html#valueType()">valueType</a>="Double",
                   <a href="../common/config/ConfigurableValue.html#description()">description</a>="Initial limit price/mwh for asks in day-ahead market")
public&nbsp;void&nbsp;setSellLimitPriceMax&#8203;(double&nbsp;sellLimitPriceMax)</pre>
</li>
</ul>
<a id="getSellLimitPriceMin()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSellLimitPriceMin</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getSellLimitPriceMin()</pre>
</li>
</ul>
<a id="setSellLimitPriceMin(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSellLimitPriceMin</h4>
<pre class="methodSignature"><a href="../common/config/ConfigurableValue.html" title="annotation in org.powertac.common.config">@ConfigurableValue</a>(<a href="../common/config/ConfigurableValue.html#valueType()">valueType</a>="Double",
                   <a href="../common/config/ConfigurableValue.html#description()">description</a>="Final limit price/mwh for asks in day-ahead market")
public&nbsp;void&nbsp;setSellLimitPriceMin&#8203;(double&nbsp;sellLimitPriceMin)</pre>
</li>
</ul>
<a id="getStorageTariffValue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorageTariffValue</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getStorageTariffValue()</pre>
</li>
</ul>
<a id="setStorageTariffValue(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStorageTariffValue</h4>
<pre class="methodSignature"><a href="../common/config/ConfigurableValue.html" title="annotation in org.powertac.common.config">@ConfigurableValue</a>(<a href="../common/config/ConfigurableValue.html#valueType()">valueType</a>="Double",
                   <a href="../common/config/ConfigurableValue.html#description()">description</a>="Bootstrap value for regulation in storage tariff")
public&nbsp;void&nbsp;setStorageTariffValue&#8203;(double&nbsp;storageTariffValue)</pre>
</li>
</ul>
<a id="getStorageTariffMargin()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorageTariffMargin</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getStorageTariffMargin()</pre>
</li>
</ul>
<a id="setStorageTariffMargin(double)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setStorageTariffMargin</h4>
<pre class="methodSignature"><a href="../common/config/ConfigurableValue.html" title="annotation in org.powertac.common.config">@ConfigurableValue</a>(<a href="../common/config/ConfigurableValue.html#valueType()">valueType</a>="Double",
                   <a href="../common/config/ConfigurableValue.html#description()">description</a>="margin for regulation in storage tariff")
public&nbsp;void&nbsp;setStorageTariffMargin&#8203;(double&nbsp;storageTariffMargin)</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultBrokerService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2021 <a href="http://www.powertac.org/">Power TAC</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
